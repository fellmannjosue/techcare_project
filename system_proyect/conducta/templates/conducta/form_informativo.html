{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Reporte Informativo – {% if area == "bilingue" %}Bilingüe{% else %}Colegio/CFP{% endif %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <!-- Select2 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'conducta/css/informativo.css' %}">
</head>

<body>
  <div class="form-container">
    <h2>Reporte Informativo – {% if area == "bilingue" %}Bilingüe{% else %}Colegio/CFP{% endif %}</h2>
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-success" role="alert">{{ message }}</div>
    {% endfor %}
    {% endif %}
    <form method="post" autocomplete="off" id="formReporteInformativo">
      {% csrf_token %}
      <div class="row mb-3">
        <!-- Estudiante -->
        <div class="col-md-6">
          <label for="id_alumno" class="form-label">Estudiante:</label>
          <select id="id_alumno" name="alumno" class="form-select" required>
            <option value="">-- Selecciona un estudiante --</option>
            {% for s in students %}
            <option value="{{ s.id }}" data-grado="{{ s.grado }}">
              {{ s.label }}
            </option>
            {% endfor %}
          </select>
        </div>
        <!-- Grado -->
        <div class="col-md-6">
          <label for="grado-display" class="form-label">Grado:</label>
          <input type="text" id="grado-display" class="form-control" readonly>
          <input type="hidden" name="grado" id="id_grado">
        </div>
      </div>

      <div class="row mb-3">
        <!-- Materia/Docente -->
        <div class="col-md-6">
          <label for="id_materia_docente" class="form-label">Materia / Docente:</label>
          <select id="id_materia_docente" name="materia_docente" class="form-select" required>
            <option value="">-- Selecciona una materia --</option>
            {% for v, t in materia_docente_choices %}
            <option value="{{ v }}">{{ t }}</option>
            {% endfor %}
          </select>
        </div>
        <!-- Fecha -->
        <div class="col-md-6">
          <label for="id_fecha" class="form-label">Fecha:</label>
          <input type="date" id="id_fecha" name="fecha" class="form-control" value="{{ fecha|slice:" :10" }}" required>

        </div>
      </div>
      <div class="row mb-3">
        <!-- Comentario -->
        <div class="col-md-12">
          <label for="id_comentario" class="form-label">Comentario:</label>
          <textarea id="id_comentario" name="comentario" rows="3" class="form-control" required></textarea>
        </div>
      </div>
      <button type="submit" class="btn btn-primary w-100">Guardar Reporte</button>
    </form>
    <a class="btn-dashboard text-center mt-4" href="/conducta/dashboard/maestro/">
      &larr; Regresar al Dashboard
    </a>
  </div>
  <!-- JS -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script src="{% static 'conducta/js/formularios.js' %}"></script>
</body>

</html>